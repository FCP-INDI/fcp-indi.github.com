
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing CPAC &mdash; C-PAC 0.1 Alpha documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1 Alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="C-PAC 0.1 Alpha documentation" href="index.html" />
    <link rel="next" title="Using C-PAC" href="use.html" />
    <link rel="prev" title="Welcome to C-PAC’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="use.html" title="Using C-PAC"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to C-PAC’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">C-PAC 0.1 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installing-cpac">
<h1>Installing CPAC<a class="headerlink" href="#installing-cpac" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation-overview">
<h2>Installation Overview<a class="headerlink" href="#installation-overview" title="Permalink to this headline">¶</a></h2>
<p>This page will guide you through the following steps required to install CPAC:</p>
<ul class="simple">
<li>Installing the required Python dependencies.</li>
<li>Installing Nibabel and Nipype.</li>
<li>Installing AFNI and FSL.</li>
<li>Downloading and installing required CPAC image resource files.</li>
<li>Installing FreeSurfer (optional).</li>
<li>Installing CPAC itself.</li>
</ul>
<p>It will also provide information on how to:</p>
<ul class="simple">
<li>Test your installation.</li>
<li>Upgrade CPAC to a new version.</li>
<li>Run CPAC without installing.</li>
</ul>
</div>
<div class="section" id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<p>CPAC is <strong>designed to run in a Unix-like environment</strong> such as Linux or Mac OS X, and thus does not support Windows.</p>
<p>Although CPAC should run on most computers made in the past few years, <strong>we highly recommend using a system with multiple cores or multiple processors</strong>, as many of the analyses carried out by CPAC are computationally intensive. As a general rule, CPAC will run on any machine capable of reliably running <a class="reference external" href="http://afni.nimh.nih.gov/afni">AFNI</a> or <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/">FSL</a>.</p>
</div>
<div class="section" id="a-note-about-the-command-line">
<h2>A Note About the Command Line<a class="headerlink" href="#a-note-about-the-command-line" title="Permalink to this headline">¶</a></h2>
<p><strong>This User Guide assumes a basic level of experience using the command line.</strong> If you are new to the command line (also known as the terminal), the resources below can help you get started.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.davidbaumgold.com/tutorials/command-line/">Getting to Know the Command Line</a></li>
<li>Terminals for Aboslute Beginners (<a class="reference external" href="http://glennstovall.com/blog/2012/02/15/terminals-for-absolute-beginners/">Part 1</a>) (<a class="reference external" href="http://glennstovall.com/blog/2012/03/07/terminals-for-absolute-beginners-part-2/">Part 2</a>)</li>
<li><a class="reference external" href="http://linuxcommand.org/lc3_learning_the_shell.php">Learning the Shell</a></li>
<li><a class="reference external" href="http://www.ee.surrey.ac.uk/Teaching/Unix/index.html">Unix Tutorial for Beginners</a></li>
<li><a class="reference external" href="http://unixmages.com/">Unix for the Beginning Mage</a></li>
</ul>
</div>
<div class="section" id="install-python-dependencies">
<h2>Install Python Dependencies<a class="headerlink" href="#install-python-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Python is the glue (Bloom, 2012) that ties all the pieces of CPAC together. Though many computers come with Python pre-installed, CPAC relies on a number of special-purpose packages. While it is possible to install all of these packages manually, we strongly recommend that you instead use the <a class="reference external" href="https://www.enthought.com/products/canopy/">Enthought Canopy Environment</a>, which includes all of the packages required by CPAC.</p>
<p><strong>Users must install the 64-bit version of Canopy</strong>, which is <a class="reference external" href="https://www.enthought.com/products/canopy/academic/">free for academic users</a> (anyone with a .edu email address). CPAC will not run with 32-bit versions.</p>
<p><strong>Note:</strong> CPAC requires Python 2.7 or greater to run. This is installed as part of Canopy.</p>
<p>For advanced users wishing to undertake a manual installation (or users unable to access a 64-bit version of Canopy), below is a full list of CPAC dependencies. Manually installing these dependencies is an involved process, and is beyond the scope of this guide.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.scipy.org/install.html">SciPy and NumPy</a> (<strong>Mac Users:</strong> Follow <a class="reference external" href="http://penandpants.com/2013/04/04/install-scientific-python-on-mac-os-x/">these instructions</a>.)</li>
<li><a class="reference external" href="http://networkx.lanl.gov/">NetworkX</a> *</li>
<li><a class="reference external" href="https://github.com/enthought/traits">Traits</a> *</li>
<li><a class="reference external" href="http://matplotlib.sourceforge.net/">Matplotlib</a> *</li>
<li><a class="reference external" href="http://www.wxpython.org/">wxPython</a> *</li>
<li><a class="reference external" href="http://pyyaml.org/wiki/PyYAML">PyYAML</a> *</li>
<li><a class="reference external" href="http://ipython.org/">iPython</a> (optional)</li>
<li><a class="reference external" href="http://www.graphviz.org/">Graphviz</a> (optional; required for workflow graphs)</li>
</ul>
<p>Packages with an asterisk (*) can be installed through <a class="reference external" href="https://pythonhosted.org/setuptools/easy_install.html">setuptools</a> by running the command <tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">package</span></tt> (for example, <tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">networkx</span></tt>).</p>
</div>
<div class="section" id="install-nibabel-and-nipype">
<h2>Install Nibabel and Nipype<a class="headerlink" href="#install-nibabel-and-nipype" title="Permalink to this headline">¶</a></h2>
<p>CPAC relies heavily on tools developed as part of the <a class="reference external" href="http://nipy.sourceforge.net/nipy/stable/index.html">Neuroimaging in Python project</a>. Specifically, <a class="reference external" href="http://nipy.sourceforge.net/nipype/">Nipype</a> and <a class="reference external" href="http://nipy.sourceforge.net/nibabel/">Nibabel</a> must be installed for CPAC to run.</p>
<p>To install Nibabel, run the command <tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">nibabel</span></tt>.</p>
<p>To install Nipype, you must first download a custom build from the <a class="reference external" href="https://github.com/FCP-INDI/nipype/">FCP-INDI GitHub page</a>. For a direct download, <a class="reference external" href="https://github.com/FCP-INDI/nipype/archive/master.tar.gz">click here</a>.</p>
<p>Open a terminal window and unpack the file using the following command:</p>
<div class="highlight-python"><pre>tar -xzvf filename.tar.gz</pre>
</div>
<p>Where <tt class="file docutils literal"><span class="pre">filename.tar.gz</span></tt> is the name of the file you just downloaded.</p>
<p>This will result in a new directory containing Nipype files. Navigate to this directory and run the following command to install Nipype:</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
</div>
<div class="section" id="install-afni-and-fsl">
<h2>Install AFNI and FSL<a class="headerlink" href="#install-afni-and-fsl" title="Permalink to this headline">¶</a></h2>
<p>CPAC harnesses the power of two leading neuroimaging software packages (<a class="reference external" href="http://afni.nimh.nih.gov/">AFNI</a> and <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/">FSL</a>) to perform key analyses. These packages must be installed before running CPAC.</p>
<p>For instructions on how to install AFNI, <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/HOWTO/howto/ht00_inst/html/">click here</a>. Downloading AFNI should take approximately 5 minutes on a standard broadband connection. <strong>Mac Users:</strong> If you are using OS X 10.7 or greater, we recommend doing a <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/HOWTO/howto/ht00_inst/html/mac_10.78.html">Basic Install</a>.</p>
<p>For instructions on how to install FSL, <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslInstallation">click here</a>. Downloading FSL should take approximately 15 minutes on a standard broadband connection.</p>
<div class="section" id="check-fsl-and-afni-paths">
<h3>Check FSL and AFNI Paths<a class="headerlink" href="#check-fsl-and-afni-paths" title="Permalink to this headline">¶</a></h3>
<p>Application paths for AFNI and FSL should have been added to your user profile when they were installed, but it is useful to double-check this before continuing (as the absence of these paths is a common cause of CPAC errors).</p>
<p>If you have not already done so, make sure the paths to FSL and AFNI have been added to your <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> file. To do this, run the command <tt class="docutils literal"><span class="pre">nano</span> <span class="pre">~/.bashrc</span></tt>. This will open <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> in the <a class="reference external" href="http://mintaka.sdsu.edu/reu/nano.html">nano text editor</a>. Scroll to the bottom of the file and add the following text:</p>
<div class="highlight-python"><pre># Path to FSL
FSLDIR=/path/to/fsl
. ${FSLDIR}/etc/fslconf/fsl.sh
PATH=${FSLDIR}/bin:${PATH}
export FSLDIR PATH

# Path to AFNI
export PATH=$PATH:/path/to/afni</pre>
</div>
<p>Where <tt class="file docutils literal"><span class="pre">/path/to/fsl</span></tt> and <tt class="file docutils literal"><span class="pre">/path/to/afni</span></tt> are the locations where FSL and AFNI are installed (usually <tt class="file docutils literal"><span class="pre">/usr/local/fsl</span></tt> for FSL and <tt class="file docutils literal"><span class="pre">~/abin</span></tt> for AFNI). Save <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> and exit nano.</p>
<p><strong>Note to Mac Users:</strong> You must also add these paths to your <tt class="file docutils literal"><span class="pre">.bash_profile</span></tt> file. This can be done following the same steps outlined above.</p>
<p>If these changes have worked, you should be able to launch FSL and AFNI from the terminal simply by typing <tt class="file docutils literal"><span class="pre">afni</span></tt> and <tt class="file docutils literal"><span class="pre">fsl</span></tt>.</p>
<p><strong>NOTE:</strong> If you are using a different terminal, such as csh or tcsh, follow the equivalent steps for those platforms.</p>
</div>
</div>
<div class="section" id="download-required-image-resource-files">
<h2>Download Required Image Resource Files<a class="headerlink" href="#download-required-image-resource-files" title="Permalink to this headline">¶</a></h2>
<p>CPAC requires symmetric versions of the MNI152 standard brain template (for use when calculating VMHC), as well as binarized tissue priors (for use during tissue segmentation). These are non-standard files, and are provided in <a class="reference external" href="http://fcon_1000.projects.nitrc.org/indi/cpac_resources.tgz">cpac_resources.tgz</a>.</p>
<ul class="simple">
<li>Files located in the <tt class="file docutils literal"><span class="pre">symmetric</span></tt> folder of the downloaded archive should be copied to the <tt class="file docutils literal"><span class="pre">/data/standard</span></tt> directory of your FSL installation.</li>
<li>The <tt class="file docutils literal"><span class="pre">2mm</span></tt> and <tt class="file docutils literal"><span class="pre">3mm</span></tt> folders located in the <tt class="file docutils literal"><span class="pre">tissuepriors</span></tt> directory of the downloaded archive should be copied to <tt class="file docutils literal"><span class="pre">/data/standard/tissuepriors</span></tt> directory of your FSL installation.</li>
</ul>
</div>
<div class="section" id="install-freesurfer-optional-but-required-for-vertex-timeseries-extraction">
<h2>Install FreeSurfer (optional, but required for vertex timeseries extraction)<a class="headerlink" href="#install-freesurfer-optional-but-required-for-vertex-timeseries-extraction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://surfer.nmr.mgh.harvard.edu/fswiki/DownloadAndInstall">FreeSurfer</a> is a set of automated tools for reconstruction of the brain’s cortical surface from structural MRI data, and overlay of functional MRI data onto the reconstructed surface.</p>
<p>Users wishing to run vertex timeseries extraction must also install the <a class="reference external" href="http://code.google.com/p/gradunwarp/">gradunwarp python package</a>. To do so, run the following command in terminal:</p>
<div class="highlight-python"><pre>svn checkout http://gradunwarp.googlecode.com/svn/trunk/ gradunwarp</pre>
</div>
<p>This will download the latest version of the software and put it in a directory called <tt class="file docutils literal"><span class="pre">gradunwarp</span></tt>. Navigate into this directory in terminal and run the command:</p>
<p>If you have installed EPD, run the command:</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
</div>
<div class="section" id="install-cpac">
<h2>Install CPAC<a class="headerlink" href="#install-cpac" title="Permalink to this headline">¶</a></h2>
<p>Congratulations, you are now ready to install CPAC itself!</p>
<p>CPAC is available for download from the <a class="reference external" href="http://fcp-indi.github.com/">CPAC Homepage</a>. Click the button labeled &#8220;Download as tar.gz&#8221;.</p>
<p>Open a terminal window and unpack the file using the following command:</p>
<div class="highlight-python"><pre>tar -xzvf filename.tar.gz</pre>
</div>
<p>Where <tt class="file docutils literal"><span class="pre">filename.tar.gz</span></tt> is the name of the file you just downloaded.</p>
<p>This will result in a new directory containing CPAC. Navigate into this directory in terminal and type:</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
<p>CPAC will be installed along side other python packages, and should now be ready to run. If you wish, you may now safely delete the setup files downloaded during the install process.</p>
</div>
<div class="section" id="test-your-installation">
<h2>Test Your Installation<a class="headerlink" href="#test-your-installation" title="Permalink to this headline">¶</a></h2>
<p>In a new terminal window, open iPython by typing <tt class="file docutils literal"><span class="pre">ipython</span></tt>, and enter <tt class="file docutils literal"><span class="pre">import</span> <span class="pre">CPAC</span></tt>. If installation was successful, this will execute without an error. If you encounter an error, try repeating the CPAC install command above, or see the <a class="reference internal" href="help.html"><em>help page</em></a>.</p>
</div>
<div class="section" id="upgrading-cpac">
<h2>Upgrading CPAC<a class="headerlink" href="#upgrading-cpac" title="Permalink to this headline">¶</a></h2>
<p>CPAC constantly being improved, and it is important that users upgrade to new versions when they are relased (approximately every week). After downloading the latest version from the <a class="reference external" href="http://fcp-indi.github.com/">CPAC Homepage</a>, simply repeat the instructions listed in the &#8220;Install CPAC&#8221; section above.</p>
</div>
<div class="section" id="running-cpac-without-installing">
<h2>Running CPAC Without Installing<a class="headerlink" href="#running-cpac-without-installing" title="Permalink to this headline">¶</a></h2>
<p>Advanced users wishing to use CPAC without installing can do so in two ways:</p>
<ul class="simple">
<li>Add the location of the CPAC files to your Python path.</li>
<li>Run Python or iPython from within the CPAC directory.</li>
</ul>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>Bloom, J. <a class="reference external" href="http://www.youtube.com/watch?v=mLuIB8aW2KA">Python as Super Glue for the Modern Scientific Workflow</a>, video of a talk given at the SciPy2012 conference.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cpac_logo.jpg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Installing C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="use.html">Using C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="preproc.html">Data Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="derivs.html">Outputs and Measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Data Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Preconfigured Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Troubleshooting and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnotes.html">Release Notes</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
          <div id="indi_sidebar">
          An open neuroscience project brought to you by: <br/><br/>

      <a href="http://fcon_1000.projects.nitrc.org/"><img src="_static/indi_logo.jpg"/></a><br/><br/>
      <a href="http://childmind.org/"><img src="_static/cmi_logo.jpg"/></a><br/><br/>
      <a href="http://www.rfmh.org/nki/"><img src="_static/nki_logo.jpg"/></a><br/><br/>
      <a href="http://www.aboutourkids.org/"><img src="_static/nyu_logo.jpg"/></a><br/><br/>
    </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="use.html" title="Using C-PAC"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to C-PAC’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">C-PAC 0.1 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, C-PAC Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>