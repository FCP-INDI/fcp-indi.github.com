<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Benchmark Package &mdash; C-PAC 0.3.9 Alpha documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.9 Alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="C-PAC 0.3.9 Alpha documentation" href="index.html" />
    <link rel="next" title="Troubleshooting and Help" href="help.html" />
    <link rel="prev" title="Preconfigured Files" href="files.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="help.html" title="Troubleshooting and Help"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="files.html" title="Preconfigured Files"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">C-PAC 0.3.9 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="benchmark-package">
<h1>Benchmark Package<a class="headerlink" href="#benchmark-package" title="Permalink to this headline">¶</a></h1>
<p>The C-PAC benchmark package consists of all of the data files, configuration files, and scripts needed to test C-PAC on your machine and compare your outputs with a standard set of outputs processed by the C-PAC team. Specifically, it contains:</p>
<ul class="simple">
<li>A bash script to automatically configure the paths within all of the settings files (<tt class="docutils literal"><span class="pre">adjustSettingPaths.sh</span></tt>).</li>
<li>Anatomical and functional images for one subject from the ADHD-200 dataset.</li>
<li>A pipeline configuration file using ANTS (<tt class="docutils literal"><span class="pre">pipeline_config_ANTS_example.yml</span></tt>).</li>
<li>A subject list (<tt class="docutils literal"><span class="pre">CPAC_subject_list_1sub.yml</span></tt>).</li>
<li>Masks, ROIs, spatial maps, and seed specifications (for timeseries extraction, centrality, etc).</li>
<li>A Python script to compare your outputs with ours (<tt class="docutils literal"><span class="pre">correlations_workflow_pipeline.py</span></tt>).</li>
</ul>
<p>The following instructions will guide you through the process of running the C-PAC benchmark. Before you begin, make sure that you have at least 24 GB of RAM.  Also, note that if you chose not to install ANTS along with C-PAC, the benchmark will not work properly.  Click the links below to download the package and the pre-computed outputs for C-PAC 0.3.9.2:</p>
<ul class="simple">
<li><a class="reference external" href="https://s3.amazonaws.com/fcp-indi/data/test_resources/benchmark_package.tar.gz">The C-PAC Benchmark Package</a></li>
<li><a class="reference external" href="https://s3.amazonaws.com/fcp-indi/data/test_resources/output_v0392.tar.gz">Precomputed Results for an Individual-Level Analysis Using C-PAC 0.3.9.2</a></li>
</ul>
<p>Once downloaded, these packages should be extracted using the command <tt class="docutils literal"><span class="pre">tar</span> <span class="pre">xzvf</span> <span class="pre">&lt;filename&gt;</span></tt>.  You may also want to consider moving <cite>output_v0392</cite> into the main <cite>benchmark_package</cite> directory to keep things organized.</p>
<div class="section" id="configuring-c-pac">
<h2>Configuring C-PAC<a class="headerlink" href="#configuring-c-pac" title="Permalink to this headline">¶</a></h2>
<p>First, navigate to <tt class="docutils literal"><span class="pre">/scripts</span></tt> and execute <tt class="docutils literal"><span class="pre">./adjustSettingPaths.sh</span></tt>.  This will ensure that the paths used in the configuration files are in accord with whichever directory you choose to store <tt class="docutils literal"><span class="pre">benchmark_package</span></tt> in.  This script assumes that it lives in the <tt class="docutils literal"><span class="pre">/scripts</span></tt> directory.  If it has been moved elsewhere, it may be executed using <tt class="docutils literal"><span class="pre">./adjustSettingPaths.sh</span> <span class="pre">&lt;path</span> <span class="pre">to</span> <span class="pre">benchmark_package</span> <span class="pre">directory&gt;</span></tt></p>
<p>Next, load in the single subject from the ADHD-200 dataset.  Open the C-PAC GUI and click <cite>Load</cite> next to the subject pane. Select <tt class="docutils literal"><span class="pre">CPAC_subject_list_1sub.yml</span></tt>.</p>
<p>Finally, load in the pipeline configuration.  In the main C-PAC window, under <cite>Pipelines</cite>, click <cite>Load</cite> and select the <tt class="docutils literal"><span class="pre">pipeline_config_ANTS_example.yml</span></tt> file located in <tt class="docutils literal"><span class="pre">/settings/configs</span></tt> in the benchmark directory. A new pipeline will show up in the list window.  Select this pipeline and click <cite>Edit</cite> to inspect it.</p>
</div>
<div class="section" id="running-an-individual-level-analyses">
<h2>Running An Individual-Level Analyses<a class="headerlink" href="#running-an-individual-level-analyses" title="Permalink to this headline">¶</a></h2>
<p>Once you have configured C-PAC by loading in the pipeline configuration YAML and subject list, you may run the individual-level analysis pipeline by clicking the appropriate button at the bottom of the main C-PAC window. This will bring up a log window that displays the progress of the C-PAC run. On an Intel Core i7 2.4 GHz laptop with 8 cores and 16 GB RAM, the pipeline finishes executing in around 40 minutes.</p>
</div>
<div class="section" id="comparing-outputs">
<h2>Comparing Outputs<a class="headerlink" href="#comparing-outputs" title="Permalink to this headline">¶</a></h2>
<p>Navigate to the <tt class="docutils literal"><span class="pre">/scripts</span></tt> directory of the C-PAC Benchmark Package. Here you will find a script named <tt class="docutils literal"><span class="pre">correlations_workflow_pipeline.py</span></tt>, which can help you compare your outputs and the reference outputs from the C-PAC team.</p>
<p>This will produce Pearson&#8217;s r and a concordance correlation coefficient between two sets of output for the following measures:</p>
<ul class="simple">
<li>ALFF and f/ALFF</li>
<li>Centrality</li>
<li>Dual Regression</li>
<li>ReHo</li>
<li>VMHC</li>
</ul>
<p>To run this script, type <tt class="docutils literal"><span class="pre">python</span> <span class="pre">correlations_workflow_pipeline.py</span> <span class="pre">&lt;path</span> <span class="pre">to</span> <span class="pre">output1</span> <span class="pre">pipeline&gt;</span> <span class="pre">&lt;path</span> <span class="pre">to</span> <span class="pre">output2</span> <span class="pre">pipeline&gt;</span> <span class="pre">&lt;number</span> <span class="pre">of</span> <span class="pre">cores</span> <span class="pre">to</span> <span class="pre">use&gt;</span> <span class="pre">&lt;descriptive</span> <span class="pre">name&gt;</span></tt>.  Make sure that the paths you use point to the <tt class="docutils literal"><span class="pre">pipeline</span></tt> directories within the output directories.  To determine the maximum number of cores on your machine, type <tt class="docutils literal"><span class="pre">nproc</span></tt> in a terminal window.</p>
<p>When this script is done, it will produce plots for the correlation measures, stored in the directories &#8216;MNI_outputs&#8217;, &#8216;MNI_SCA&#8217;, &#8216;native_outputs&#8217;, &#8216;natived_SCA&#8217;, &#8216;nonscrub_vs_scrub&#8217;, and &#8216;registration&#8217;.  It also produces Python pickle files containing dictionaries with measures as keys and Pearson or concordance correlations as values. Python pickles can be thought of as similar to .mat files in MATLAB- they allow you to save variables in the workspace to an external file on the hard drive.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cpac_logo.jpg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="use.html">Using C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">Running C-PAC in the Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="preproc.html">Data Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Preconfigured Files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">C-PAC Benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Troubleshooting and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnotes.html">Release Notes</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="help.html" title="Troubleshooting and Help"
             >next</a> |</li>
        <li class="right" >
          <a href="files.html" title="Preconfigured Files"
             >previous</a> |</li>
        <li><a href="index.html">C-PAC 0.3.9 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, C-PAC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>