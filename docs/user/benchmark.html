
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CPAC Benchmark Package &mdash; C-PAC 0.3.2 Alpha documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3.2 Alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="C-PAC 0.3.2 Alpha documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">C-PAC 0.3.2 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cpac-benchmark-package">
<h1>CPAC Benchmark Package<a class="headerlink" href="#cpac-benchmark-package" title="Permalink to this headline">¶</a></h1>
<p>The CPAC Benchmark Package consists of all of the data files, configuration files, and comparison scripts needed to test CPAC on your machine compare your outputs with a standard set of outputs processed by the CPAC team. Specifically, it contains:</p>
<ul class="simple">
<li>Anatomical and Functional images for 40 subjects (20 controls and 20 ADHD; a subset of the ADHD-200 dataset.)</li>
<li>The configuration files (<tt class="docutils literal"><span class="pre">benchmark_data_config.yml</span></tt>, <tt class="docutils literal"><span class="pre">benchmark_config.yml</span></tt>, and <tt class="docutils literal"><span class="pre">benchmark_fsl_config.yml</span></tt>) needed to generate subject lists for these subjects and to run individual- and group-level analyses.</li>
<li>Precomputed outputs for the same set of subjects, processed by the CPAC team.</li>
<li>Python scripts to compare your outputs with ours.</li>
</ul>
<p>The following instructions will guide you through the simple process of running the CPAC Benchmark test. This process should require about 30 minutes of your time (the actual data processing will take significantly longer, but requires no input from the user).</p>
<div class="section" id="install-cpac">
<h2>1) Install CPAC<a class="headerlink" href="#install-cpac" title="Permalink to this headline">¶</a></h2>
<p>Make sure you have also installed all of the dependencies and downloaded the required Image Resource Files.</p>
</div>
<div class="section" id="download-the-cpac-benchmark-package">
<h2>2) Download the CPAC Benchmark Package<a class="headerlink" href="#download-the-cpac-benchmark-package" title="Permalink to this headline">¶</a></h2>
<p>The CPAC Benchmark Package is split into two pieces:</p>
<ul class="simple">
<li>Raw data and configuration files needed to process said data (<a class="reference external" href="http://www.nitrc.org/frs/shownotes.php?release_id=2361">click here to download</a>)</li>
<li>Precomputed group analysis results from the same data set, group models, and comparison scripts (coming soon)</li>
</ul>
<p>Once downloaded, these packages should be extracted (using the command <tt class="docutils literal"><span class="pre">tar</span> <span class="pre">-xzvf</span> <span class="pre">&lt;filename&gt;</span></tt>) and their contents combined into a single directory with the following structure.</p>
<p>&lt;file_structure.png&gt;</p>
</div>
<div class="section" id="configure-cpac">
<h2>3) Configure CPAC<a class="headerlink" href="#configure-cpac" title="Permalink to this headline">¶</a></h2>
<p>Included in the CPAC Benchmark Package is a <tt class="docutils literal"><span class="pre">configure_cpac_benchmark.sh</span></tt> script that when run will automatically configure CPAC to run on your system. More specifically, it will edit the included configuration files to match the location of the CPAC Benchmark Package on your computer.</p>
<p>To run this script, navigate in terminal to the <tt class="docutils literal"><span class="pre">/scripts</span></tt> directory of the CPAC Benchmark Package and enter the command <tt class="docutils literal"><span class="pre">bash</span> <span class="pre">configure_cpac_benchmark.sh</span></tt>. You will be asked to enter the path to the main CPAC Benchmark Package folder.</p>
<p>&lt;config_script.png&gt;</p>
</div>
<div class="section" id="generate-subject-lists">
<h2>4) Generate Subject Lists<a class="headerlink" href="#generate-subject-lists" title="Permalink to this headline">¶</a></h2>
<p>Open the CPAC GUI and click to create a new Subject List. In the Subject List Configuration window, select Load and navigate to the <tt class="docutils literal"><span class="pre">/configs</span></tt> directory of the CPAC Benchmark Package. Select <tt class="docutils literal"><span class="pre">benchmark_data_config.yml</span></tt> and hit OK. This will load load the pre-configured settings.</p>
<p>&lt;benchmark_data_config.png&gt;</p>
<p>Click Generate Subject Lists. You will be asked to specify a name for a configuratino file containing the newly entered settings, as well as for the subject list itself.</p>
</div>
<div class="section" id="id1">
<h2>4) Configure CPAC<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>In the main CPAC window, under Pipelines, click Load and select the <tt class="docutils literal"><span class="pre">benchmark_config.yml</span></tt> file located in the <tt class="docutils literal"><span class="pre">/configs</span></tt> directory of the CPAC Benchmark Package. A new pipeline will show up in the list window; select this pipeline and click Edit. This will load the Pipeline Configuration window.</p>
<p>&lt;benchmark_pipeline_config.png&gt;</p>
<p>The majority of the preprocessing and analysis settings will be preloaded, but there are a few system-specific options that must be edited by the user before running CPAC.</p>
</div>
<div class="section" id="run-individual-and-group-level-analyses">
<h2>5) Run Individual- and Group-Level Analyses<a class="headerlink" href="#run-individual-and-group-level-analyses" title="Permalink to this headline">¶</a></h2>
<p>Once you have configured CPAC, first run the Individual-Level analysis pipeline by clicking the appropriate button at the bottom of the main CPAC window. This will bring up a log window that displays the progress of the CPAC run. When the pipeline has finished, you will see a <tt class="docutils literal"><span class="pre">Workflow</span> <span class="pre">Complete</span></tt> message.</p>
<p>At this point, you can run the Group-Level analysis workflow, again by clicking the appropriate button in the main CPAC window; which will display the same kind of log window seen for the Individual-Level pipeline.</p>
</div>
<div class="section" id="compare-outputs">
<h2>6) Compare Outputs<a class="headerlink" href="#compare-outputs" title="Permalink to this headline">¶</a></h2>
<p>Navigate to the <tt class="docutils literal"><span class="pre">/scripts</span></tt> directory of the CPAC Benchmark Package. Here you will find a number of scripts to facillitate comparison between the outputs you just generated and the reference outputs included in the Benchmark Package.</p>
<p>Though it is possible to compare individual outputs, we recommend beginning your comparison by examining the spatial correlation between the statistical maps output during group analysis. These can be found in the following locations:</p>
<ul class="simple">
<li>Reference Data: <tt class="docutils literal"><span class="pre">/path/to/cpac_benchmark/reference/outputs/pipeline_benchmark/group_analysis_results</span></tt></li>
<li>User Data <tt class="docutils literal"><span class="pre">/path/to/cpac_benchmark/outputs/pipeline_benchmark/group_analysis_results</span></tt></li>
</ul>
<p>We have created a bash script that will automatically compare outputs.</p>
<p>Using the <tt class="docutils literal"><span class="pre">spatial_correlation.py</span></tt> script located in the scripts directory, you can compute the Pearson&#8217;s r and Kendalls w correlation between a newly generated file and the same file from the reference outputs.</p>
<p>To run this script, simply type <tt class="docutils literal"><span class="pre">python</span> <span class="pre">spatial_correlation.py</span> <span class="pre">file1</span> <span class="pre">file2</span></tt>, replacing <tt class="docutils literal"><span class="pre">file1</span></tt> and <tt class="docutils literal"><span class="pre">file2</span></tt> with the files which you would like to compare.</p>
<p>It is also possible to view a scatterplot of voxelwise correlations of the values in two files. To do this, run the <tt class="docutils literal"><span class="pre">voxelwise_correlation.py</span></tt> script in the same manner as the script above.</p>
<p>Alternately, you may run the comparison scripts manually by following the instructions below:</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cpac_logo.jpg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="use.html">Using C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="preproc.html">Data Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="derivs.html">Outputs and Measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Data Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Preconfigured Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Troubleshooting and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnotes.html">Release Notes</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
          <div id="indi_sidebar">
          An open neuroscience project brought to you by: <br/><br/>

      <a href="http://fcon_1000.projects.nitrc.org/"><img src="_static/indi_logo.jpg"/></a><br/><br/>
      <a href="http://childmind.org/"><img src="_static/cmi_logo.jpg"/></a><br/><br/>
      <a href="http://www.rfmh.org/nki/"><img src="_static/nki_logo.jpg"/></a><br/><br/>
      <a href="http://www.aboutourkids.org/"><img src="_static/nyu_logo.jpg"/></a><br/><br/>
    </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">C-PAC 0.3.2 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, C-PAC Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>