<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CPAC Benchmark Package &mdash; C-PAC 0.3.8 Alpha documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.8 Alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="C-PAC 0.3.8 Alpha documentation" href="index.html" />
    <link rel="prev" title="Release Notes" href="rnotes.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="rnotes.html" title="Release Notes"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">C-PAC 0.3.8 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cpac-benchmark-package">
<h1>CPAC Benchmark Package<a class="headerlink" href="#cpac-benchmark-package" title="Permalink to this headline">¶</a></h1>
<p>The CPAC Benchmark Package consists of all of the data files, configuration files, and comparison scripts needed to test CPAC on your machine compare your outputs with a standard set of outputs processed by the CPAC team. Specifically, it contains:</p>
<ul class="simple">
<li>Anatomical and Functional images for 40 subjects (20 controls and 20 ADHD; a subset of the ADHD-200 dataset.)</li>
<li>The configuration files (<tt class="docutils literal"><span class="pre">benchmark_data_config.yml</span></tt>, <tt class="docutils literal"><span class="pre">benchmark_config.yml</span></tt>, and <tt class="docutils literal"><span class="pre">benchmark_fsl_config.yml</span></tt>) needed to generate subject lists for these subjects and to run individual- and group-level analyses.</li>
<li>Precomputed outputs for the same set of subjects, processed by the CPAC team.</li>
<li>Python scripts to compare your outputs with ours.</li>
</ul>
<p>The following instructions will guide you through the simple process of running the CPAC Benchmark test. This process should require about 30 minutes of your time (the actual data processing will take significantly longer, but requires no input from the user).</p>
<div class="section" id="install-cpac">
<h2>1) Install CPAC<a class="headerlink" href="#install-cpac" title="Permalink to this headline">¶</a></h2>
<p>Make sure you have also installed all of the dependencies and downloaded the required Image Resource Files.</p>
</div>
<div class="section" id="download-the-cpac-benchmark-package">
<h2>2) Download the CPAC Benchmark Package<a class="headerlink" href="#download-the-cpac-benchmark-package" title="Permalink to this headline">¶</a></h2>
<p>The CPAC Benchmark Package is split into two pieces:</p>
<ul class="simple">
<li>Raw data and configuration files needed to process said data (<a class="reference external" href="https://www.nitrc.org/frs/downloadlink.php/5881">click here to download</a>)</li>
<li>Precomputed group analysis results from the same data set, group models, and comparison scripts (coming soon)</li>
</ul>
<p>Once downloaded, these packages should be extracted (using the command <tt class="docutils literal"><span class="pre">tar</span> <span class="pre">-xzvf</span> <span class="pre">&lt;filename&gt;</span></tt>) and their contents combined into a single directory with the following structure.</p>
<div class="figure">
<img alt="_images/file_structure.png" src="_images/file_structure.png" />
</div>
</div>
<div class="section" id="generate-subject-lists">
<h2>3) Generate Subject Lists<a class="headerlink" href="#generate-subject-lists" title="Permalink to this headline">¶</a></h2>
<p>Open the CPAC GUI and click to create a new Subject List. In the Subject List Configuration window, select Load and navigate to the <tt class="docutils literal"><span class="pre">/settings/configs</span></tt> directory of the CPAC Benchmark Package. Select <tt class="docutils literal"><span class="pre">benchmark_data_config.yml</span></tt> and hit OK. This will load load the pre-configured settings.</p>
<div class="figure">
<img alt="_images/benchmark_data_config.png" src="_images/benchmark_data_config.png" />
</div>
<p>Click Generate Subject Lists. You will be asked to specify a name for a configuration file containing the newly entered settings, as well as for the subject list itself.</p>
</div>
<div class="section" id="configure-cpac">
<h2>4) Configure CPAC<a class="headerlink" href="#configure-cpac" title="Permalink to this headline">¶</a></h2>
<p>In the main CPAC window, under Pipelines, click Load and select the <tt class="docutils literal"><span class="pre">benchmark_config.yml</span></tt> file located in the <tt class="docutils literal"><span class="pre">/configs</span></tt> directory of the CPAC Benchmark Package. A new pipeline will show up in the list window; select this pipeline and click Edit. This will load the Pipeline Configuration window.</p>
<div class="figure">
<img alt="_images/benchmark_pipeline_config.png" src="_images/benchmark_pipeline_config.png" />
</div>
<p>The majority of the preprocessing and analysis settings will be preloaded, but there are a few system-specific options that must be edited by the user before running CPAC.</p>
</div>
<div class="section" id="run-individual-and-group-level-analyses">
<h2>5) Run Individual- and Group-Level Analyses<a class="headerlink" href="#run-individual-and-group-level-analyses" title="Permalink to this headline">¶</a></h2>
<p>Once you have configured CPAC, first run the Individual-Level analysis pipeline by clicking the appropriate button at the bottom of the main CPAC window. This will bring up a log window that displays the progress of the CPAC run. When the pipeline has finished, you will see a <tt class="docutils literal"><span class="pre">Workflow</span> <span class="pre">Complete</span></tt> message.</p>
<p>At this point, you can run the Group-Level analysis workflow, again by clicking the appropriate button in the main CPAC window; which will display the same kind of log window seen for the Individual-Level pipeline.</p>
</div>
<div class="section" id="compare-outputs">
<h2>6) Compare Outputs<a class="headerlink" href="#compare-outputs" title="Permalink to this headline">¶</a></h2>
<p>Navigate to the <tt class="docutils literal"><span class="pre">/scripts</span></tt> directory of the CPAC Benchmark Package. Here you will find a number of scripts to facilitate comparison between the outputs you just generated and the reference outputs included in the Benchmark Package.</p>
<p>Though it is possible to compare individual outputs, we recommend beginning your comparison by examining the spatial correlation between the statistical maps output during group analysis. These can be found in the following locations:</p>
<ul class="simple">
<li>Reference Data: <tt class="docutils literal"><span class="pre">/path/to/cpac_benchmark/reference/outputs/pipeline_benchmark/group_analysis_results</span></tt></li>
<li>User Data <tt class="docutils literal"><span class="pre">/path/to/cpac_benchmark/outputs/pipeline_benchmark/group_analysis_results</span></tt></li>
</ul>
<p>We have created a bash script that will automatically compare outputs.</p>
<p>Using the <tt class="docutils literal"><span class="pre">spatial_correlation.py</span></tt> script located in the scripts directory, you can compute the Pearson&#8217;s r and Kendall&#8217;s w correlation between a newly generated file and the same file from the reference outputs.</p>
<p>To run this script, simply type <tt class="docutils literal"><span class="pre">python</span> <span class="pre">spatial_correlation.py</span> <span class="pre">file1</span> <span class="pre">file2</span></tt>, replacing <tt class="docutils literal"><span class="pre">file1</span></tt> and <tt class="docutils literal"><span class="pre">file2</span></tt> with the files which you would like to compare.</p>
<p>It is also possible to view a scatterplot of voxelwise correlations of the values in two files. To do this, run the <tt class="docutils literal"><span class="pre">voxelwise_correlation.py</span></tt> script in the same manner as the script above.</p>
<p>Alternately, you may run the comparison scripts manually by following the instructions below:</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cpac_logo.jpg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="use.html">Using C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="preproc.html">Data Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="derivs.html">Outputs and Measures</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Data Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Preconfigured Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Troubleshooting and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnotes.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Benchmark Package</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="rnotes.html" title="Release Notes"
             >previous</a> |</li>
        <li><a href="index.html">C-PAC 0.3.8 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, C-PAC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>