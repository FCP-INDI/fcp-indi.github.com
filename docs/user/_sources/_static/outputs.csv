strat.update_resource_pool({'anatomical_brain':(anat_preproc,'outputspec.brain')})
strat.update_resource_pool({'anatomical_reorient':(anat_preproc,'outputspec.reorient')})
strat.update_resource_pool({'anatomical_to_mni_linear_xfm':(fnirt_reg_anat_mni,'outputspec.linear_xfm'),
'anatomical_to_mni_nonlinear_xfm':(fnirt_reg_anat_mni,'outputspec.nonlinear_xfm'),
'mni_to_anatomical_linear_xfm':(fnirt_reg_anat_mni,'outputspec.invlinear_xfm'),
'mni_normalized_anatomical':(fnirt_reg_anat_mni,'outputspec.output_brain')})
strat.update_resource_pool({'ants_initial_xfm':(ants_reg_anat_mni,'outputspec.ants_initial_xfm'),
'ants_rigid_xfm':(ants_reg_anat_mni,'outputspec.ants_rigid_xfm'),
'ants_affine_xfm':(ants_reg_anat_mni,'outputspec.ants_affine_xfm'),
'anatomical_to_mni_nonlinear_xfm':(ants_reg_anat_mni,'outputspec.warp_field'),
'mni_to_anatomical_nonlinear_xfm':(ants_reg_anat_mni,'outputspec.inverse_warp_field'),
'anat_to_mni_ants_composite_xfm':(ants_reg_anat_mni,'outputspec.composite_transform'),
'mni_normalized_anatomical':(ants_reg_anat_mni,'outputspec.normalized_output_brain')})
strat.update_resource_pool({'anatomical_to_symmetric_mni_linear_xfm':(fnirt_reg_anat_symm_mni,'outputspec.linear_xfm'),
'anatomical_to_symmetric_mni_nonlinear_xfm':(fnirt_reg_anat_symm_mni,'outputspec.nonlinear_xfm'),
'symmetric_mni_to_anatomical_linear_xfm':(fnirt_reg_anat_symm_mni,'outputspec.invlinear_xfm'),
'symmetric_mni_normalized_anatomical':(fnirt_reg_anat_symm_mni,'outputspec.output_brain')})#,
#'mni_normalized_anatomical':(ants_reg_anat_symm_mni,'outputspec.wait')})
strat.update_resource_pool({'ants_symmetric_initial_xfm':(ants_reg_anat_symm_mni,'outputspec.ants_initial_xfm'),
'ants_symmetric_rigid_xfm':(ants_reg_anat_symm_mni,'outputspec.ants_rigid_xfm'),
'ants_symmetric_affine_xfm':(ants_reg_anat_symm_mni,'outputspec.ants_affine_xfm'),
'anatomical_to_symmetric_mni_nonlinear_xfm':(ants_reg_anat_symm_mni,'outputspec.warp_field'),
'symmetric_mni_to_anatomical_nonlinear_xfm':(ants_reg_anat_symm_mni,'outputspec.inverse_warp_field'),
'anat_to_symmetric_mni_ants_composite_xfm':(ants_reg_anat_symm_mni,'outputspec.composite_transform'),
'symmetric_mni_normalized_anatomical':(ants_reg_anat_symm_mni,'outputspec.normalized_output_brain')})#,
#'mni_normalized_anatomical':(ants_reg_anat_symm_mni,'outputspec.wait')})
strat.update_resource_pool({'anatomical_gm_mask':(seg_preproc,'outputspec.gm_mask'),
'anatomical_csf_mask':(seg_preproc,'outputspec.csf_mask'),
'anatomical_wm_mask':(seg_preproc,'outputspec.wm_mask'),
'seg_probability_maps':(seg_preproc,'outputspec.probability_maps'),
'seg_mixeltype':(seg_preproc,'outputspec.mixeltype'),
'seg_partial_volume_map':(seg_preproc,'outputspec.partial_volume_map'),
'seg_partial_volume_files':(seg_preproc,'outputspec.partial_volume_files')})
strat.update_resource_pool({'raw_functional':(funcFlow,'outputspec.rest')})
strat.update_resource_pool({'selected_func_volume':(get_func_volume,'out_file')})
strat.update_resource_pool({'slice_time_corrected':(func_slice_timing_correction,'out_file')})
strat.update_resource_pool({'mean_functional':(func_preproc,'outputspec.example_func')})
strat.update_resource_pool({'functional_preprocessed_mask':(func_preproc,'outputspec.preprocessed_mask')})
strat.update_resource_pool({'movement_parameters':(func_preproc,'outputspec.movement_parameters')})
strat.update_resource_pool({'max_displacement':(func_preproc,'outputspec.max_displacement')})
strat.update_resource_pool({'preprocessed':(func_preproc,'outputspec.preprocessed')})
strat.update_resource_pool({'functional_brain_mask':(func_preproc,'outputspec.mask')})
strat.update_resource_pool({'motion_correct':(func_preproc,'outputspec.motion_correct')})
strat.update_resource_pool({'coordinate_transformation':(func_preproc,'outputspec.oned_matrix_save')})
strat.update_resource_pool({'mean_functional':(func_preproc,'outputspec.example_func')})
strat.update_resource_pool({'functional_preprocessed_mask':(func_preproc,'outputspec.preprocessed_mask')})
strat.update_resource_pool({'movement_parameters':(func_preproc,'outputspec.movement_parameters')})
strat.update_resource_pool({'max_displacement':(func_preproc,'outputspec.max_displacement')})
strat.update_resource_pool({'preprocessed':(func_preproc,'outputspec.preprocessed')})
strat.update_resource_pool({'functional_brain_mask':(func_preproc,'outputspec.mask')})
strat.update_resource_pool({'motion_correct':(func_preproc,'outputspec.motion_correct')})
strat.update_resource_pool({'coordinate_transformation':(func_preproc,'outputspec.oned_matrix_save')})
strat.update_resource_pool({'movement_parameters':(fristons_model,'outputspec.movement_file')})
strat.update_resource_pool({'mean_functional_in_anat':(func_to_anat,'outputspec.anat_func_nobbreg'),
'functional_to_anat_linear_xfm':(func_to_anat,'outputspec.func_to_anat_linear_xfm_nobbreg')})
strat.update_resource_pool({'mean_functional_in_anat':(func_to_anat_bbreg,'outputspec.anat_func'),
'functional_to_anat_linear_xfm':(func_to_anat_bbreg,'outputspec.func_to_anat_linear_xfm')})
strat.update_resource_pool({'frame_wise_displacement':(gen_motion_stats,'outputspec.FD_1D'),
'scrubbing_frames_excluded':(gen_motion_stats,'outputspec.frames_ex_1D'),
'scrubbing_frames_included':(gen_motion_stats,'outputspec.frames_in_1D'),
'power_params':(gen_motion_stats,'outputspec.power_params'),
'motion_params':(gen_motion_stats,'outputspec.motion_params')})
strat.update_resource_pool({'functional_nuisance_residuals':(nuisance,'outputspec.subject')})
strat.update_resource_pool({'functional_median_angle_corrected':(median_angle_corr,'outputspec.subject')})
strat.update_resource_pool({'alff_img':(alff,'outputspec.alff_img')})
strat.update_resource_pool({'falff_img':(alff,'outputspec.falff_img')})
strat.update_resource_pool({'functional_freq_filtered':(frequency_filter,'bandpassed_file')})
strat.update_resource_pool({'scrubbing_movement_parameters':(scrubbing,'outputspec.scrubbed_movement_parameters'),
'scrubbed_preprocessed':(scrubbing,'outputspec.preprocessed')})
strat.update_resource_pool({'functional_mni':(func_mni_warp,'out_file'),
'functional_brain_mask_to_standard':(functional_brain_mask_to_standard,'out_file'),
'mean_functional_in_mni':(mean_functional_warp,'out_file'),
'motion_correct_to_standard':(motion_correct_warp,'out_file')})
strat.update_resource_pool({'itk_func_anat_affine_%s'%\
(func_name):(fsl_to_itk_func_mni,\
'outputspec.itk_transform')})
strat.update_resource_pool({'itk_collected_warps_%s'%\
(func_name):(collect_transforms_func_mni,\
'outputspec.transformation_series')})
strat.update_resource_pool({func_name:\
(apply_ants_warp_func_mni,\
'outputspec.output_image')})
strat.update_resource_pool({'vmhc_raw_score':(vmhc,'outputspec.VMHC_FWHM_img')})
strat.update_resource_pool({'vmhc_fisher_zstd':(vmhc,'outputspec.VMHC_Z_FWHM_img')})
strat.update_resource_pool({'vmhc_fisher_zstd_zstat_map':(vmhc,'outputspec.VMHC_Z_stat_FWHM_img')})
strat.update_resource_pool({'raw_reho_map':(reho,'outputspec.raw_reho_map')})
strat.update_resource_pool({'spatial_map_timeseries':(spatial_map_timeseries,'outputspec.subject_timeseries')})
strat.update_resource_pool({'roi_timeseries':(roi_timeseries,'outputspec.roi_outputs')})
strat.update_resource_pool({'roi_timeseries_for_SCA':(roi_timeseries_for_sca,'outputspec.roi_outputs')})
strat.update_resource_pool({'voxel_timeseries':(voxel_timeseries,'outputspec.mask_outputs')})
strat.update_resource_pool({'voxel_timeseries_for_SCA':(voxel_timeseries_for_sca,'outputspec.mask_outputs')})
strat.update_resource_pool({'sca_roi_correlation_stack':(sca_roi,'outputspec.correlation_stack'),
'sca_roi_correlation_files':(sca_roi,'outputspec.correlation_files')})
strat.update_resource_pool({'sca_seed_correlation_files':(sca_seed,'outputspec.correlation_files')})
strat.update_resource_pool({'dr_tempreg_maps_stack':(dr_temp_reg,'outputspec.temp_reg_map'),
'dr_tempreg_maps_files':(dr_temp_reg,'outputspec.temp_reg_map_files')})
strat.update_resource_pool({'dr_tempreg_maps_zstat_stack':(dr_temp_reg,'outputspec.temp_reg_map_z'),
'dr_tempreg_maps_zstat_files':(dr_temp_reg,'outputspec.temp_reg_map_z_files')})
strat.update_resource_pool({'sca_tempreg_maps_stack':(sc_temp_reg,'outputspec.temp_reg_map'),
'sca_tempreg_maps_files':(sc_temp_reg,'outputspec.temp_reg_map_files')})
strat.update_resource_pool({'sca_tempreg_maps_zstat_stack':(sc_temp_reg,'outputspec.temp_reg_map_z'),
'sca_tempreg_maps_zstat_files':(sc_temp_reg,'outputspec.temp_reg_map_z_files')})
strat.update_resource_pool({'bbregister_registration':(surface_reg,'outputspec.out_reg_file'),
'left_hemisphere_surface':(surface_reg,'outputspec.lh_surface_file'),
'right_hemisphere_surface':(surface_reg,'outputspec.rh_surface_file')})
strat.update_resource_pool({'vertices_timeseries':(vertices_timeseries,'outputspec.surface_outputs')})
strat.update_resource_pool({'centrality_outputs':(merge_node,'merged_list')})
strat.update_resource_pool({'centrality_outputs_zstd':(z_score,'outputspec.z_score_img'),
'centrality_outputs_smoothed':(smoothing,'out_file'),
'centrality_outputs_smoothed_zstd':(zstd_smoothing,'out_file')})
strat.update_resource_pool({'%s_to_standard'%(output_name):\
(apply_ants_warp,'outputspec.output_image')})
strat.update_resource_pool({'%s_to_standard'%(output_name):\
(apply_fsl_warp,'out_file')})
strat.update_resource_pool({'%s_smooth'%(output_name):\
(output_smooth,'out_file')})
strat.update_resource_pool({'%s_to_standard_smooth'%\
(output_name):(output_to_standard_smooth,'out_file')})
strat.update_resource_pool({'%s_zstd'%(output_resource):\
(z_score_std,'outputspec.z_score_img')})
strat.update_resource_pool({'%s_fisher_zstd'%(output_resource):\
(fisher_z_score_std,'outputspec.fisher_z_score_img')})
strat.update_resource_pool({'output_means.@%s_average'%(output_resource):(mean_to_csv,'output_mean')})
strat.update_resource_pool({'sca_tempreg_maps_stack_smooth':(sc_temp_reg_maps_smooth,'out_file'),
'sca_tempreg_maps_files_smooth':(sc_temp_reg_maps_files_smooth,'out_file'),
'sca_tempreg_maps_zstat_stack_smooth':(sc_temp_reg_maps_Z_stack_smooth,'out_file'),
'sca_tempreg_maps_zstat_files_smooth':(sc_temp_reg_maps_Z_files_smooth,'out_file')})
strat.update_resource_pool({'dr_tempreg_maps_stack_to_standard_smooth':(dr_temp_reg_maps_smooth,'out_file'),
'dr_tempreg_maps_zstat_stack_to_standard_smooth':(dr_temp_reg_maps_Z_stack_smooth,'out_file'),
'dr_tempreg_maps_files_to_standard_smooth':(dr_temp_reg_maps_files_smooth,'out_file'),
'dr_tempreg_maps_zstat_files_to_standard_smooth':(dr_temp_reg_maps_Z_files_smooth,'out_file')})
strat.update_resource_pool({'qc___snr_a':(montage_snr,'outputspec.axial_png'),
'qc___snr_s':(montage_snr,'outputspec.sagittal_png'),
'qc___snr_hist':(hist_,'hist_path'),
'qc___snr_val':(snr_val,'snr_storefl')})###
strat.update_resource_pool({'qc___movement_trans_plot':(mov_plot,'translation_plot'),
'qc___movement_rot_plot':(mov_plot,'rotation_plot')})
strat.update_resource_pool({'qc___fd_plot':(fd_plot,'hist_path')})
strat.update_resource_pool({'qc___skullstrip_vis_a':(montage_skull,'outputspec.axial_png'),
'qc___skullstrip_vis_s':(montage_skull,'outputspec.sagittal_png')})
strat.update_resource_pool({'qc___mni_normalized_anatomical_a':(montage_mni_anat,'outputspec.axial_png'),
'qc___mni_normalized_anatomical_s':(montage_mni_anat,'outputspec.sagittal_png')})
strat.update_resource_pool({'qc___csf_gm_wm_a':(montage_csf_gm_wm,'outputspec.axial_png'),
'qc___csf_gm_wm_s':(montage_csf_gm_wm,'outputspec.sagittal_png')})
strat.update_resource_pool({'qc___mean_func_with_t1_edge_a':(montage_anat,'outputspec.axial_png'),
'qc___mean_func_with_t1_edge_s':(montage_anat,'outputspec.sagittal_png')})
strat.update_resource_pool({'qc___mean_func_with_mni_edge_a':(montage_mfi,'outputspec.axial_png'),
'qc___mean_func_with_mni_edge_s':(montage_mfi,'outputspec.sagittal_png')})
strat.update_resource_pool({'qc___%s_a'%measure:(montage,'outputspec.axial_png'),
'qc___%s_s'%measure:(montage,'outputspec.sagittal_png'),
'qc___%s_hist'%measure:(histogram,'hist_path')})
