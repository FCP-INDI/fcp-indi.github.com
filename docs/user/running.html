
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Running C-PAC &#8212; C-PAC 1.0.2 Beta documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.2 Beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Running C-PAC as a Docker App" href="docker.html" />
    <link rel="prev" title="Setting Up Group Analysis" href="group_analysis.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="docker.html" title="Running C-PAC as a Docker App"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="group_analysis.html" title="Setting Up Group Analysis"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">C-PAC 1.0.2 Beta documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="running-c-pac">
<h1>Running C-PAC<a class="headerlink" href="#running-c-pac" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>As with configuring the subject list, pipeline configuration, and group analysis files, there are two ways of executing a C-PAC run:</p>
<ul class="simple">
<li>Using C-PAC’s command line interface</li>
<li>Using the main dialog in the C-PAC GUI</li>
</ul>
<p>This page will also discuss how to navigate C-PAC’s output structure once a run is finished.</p>
</div>
<div class="section" id="using-the-command-line-interface">
<h2>Using the Command Line Interface<a class="headerlink" href="#using-the-command-line-interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="running-preprocessing-and-individual-level-analysis">
<h3>Running Preprocessing and Individual-Level Analysis<a class="headerlink" href="#running-preprocessing-and-individual-level-analysis" title="Permalink to this headline">¶</a></h3>
<p>To start a C-PAC run from the command line or a shell script you can use the <cite>cpac_run.py</cite> utility (which is added to your path automatically upon installing C-PAC).  An example of this tool’s syntax is as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>cpac_run.py /path/to/pipeline_config.yml /path/to/CPAC_subject_list.yml
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-the-gui">
<h2>Using the GUI<a class="headerlink" href="#using-the-gui" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Running Preprocessing and Individual-Level Analysis<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>You have already interacted with the <em>Subject Lists</em> and <em>Pipelines</em> panes in the main dialog in order to create new subject lists and pipeline configurations.  There is, however, more to the main dialog than making new files!  Both panes have a <em>Load</em> option that will load in any previously created YAML files.  Additionally, there is a <em>View</em> button that allows you to inspect the text of the YAML files for the currently selected subject list or pipeline configuration and a <em>Clear</em> button that removes all loaded pipelines or subject lists.  The <em>Pipelines</em> pane sports an <em>Edit</em> button that allows you to modify already loaded pipeline configurations, as well as options for renaming and deleting pipeline configurations.</p>
<p>If you have loaded multiple subject lists or pipeline configurations, click the checkboxes to the left of the subject list names in the <em>Subject Lists</em> pane to select which sets of subjects you would like to run.  Similarly, select the pipelines you’d like to run in the adjacent <em>Pipelines</em> pane. When you are ready to run C-PAC, click the <em>Run Individual Level Analysis</em> button at the bottom.</p>
<p><strong>Note: Do not confuse the *Load* button on the main window of the GUI with the *Load Settings* button within the Subject List Setup window shown above.  The latter button is intended to load data configuration files that the subject list setup dialogue can use to create subject lists and will not work with other YAML files.  The former button is for already generated subject list files.</strong></p>
<div class="figure">
<img alt="_images/main_gui_checks.png" src="_images/main_gui_checks.png" />
</div>
<p>The following schematic illustrates the order in which C-PAC executes.</p>
<div class="figure">
<img alt="_images/processing_workflow.png" src="_images/processing_workflow.png" />
</div>
</div>
<div class="section" id="running-group-level-analysis">
<h3>Running Group-Level Analysis<a class="headerlink" href="#running-group-level-analysis" title="Permalink to this headline">¶</a></h3>
<p>When you are ready to run group-level analysis, select the subject lists and pipelines you would like to run and click the Run Group Level Analysis button. You will be presented with a dialog and asked to select which strategies you would like to include.</p>
</div>
</div>
<div class="section" id="output-structure">
<h2>Output Structure<a class="headerlink" href="#output-structure" title="Permalink to this headline">¶</a></h2>
<div class="section" id="symbolic-links">
<h3>Symbolic Links<a class="headerlink" href="#symbolic-links" title="Permalink to this headline">¶</a></h3>
<p>C-PAC gives you the option of creating an output directory containing <a class="reference external" href="http://en.wikipedia.org/wiki/Symbolic_link">symbolic links</a> to processed files. We strongly recommend this setting be enabled, as it makes it much easier to navigate output files. The following schematic shows the structure of the resulting <code class="file docutils literal"><span class="pre">sym_links</span></code> directory:</p>
<div class="figure">
<img alt="_images/symlink_structure.png" src="_images/symlink_structure.png" />
</div>
<p>Pipeline and strategy folders are named as described above.</p>
</div>
<div class="section" id="file-descriptions">
<h3>File Descriptions<a class="headerlink" href="#file-descriptions" title="Permalink to this headline">¶</a></h3>
<p>Preprocessed anatomical data from the Anatomical Preprocessing, Registration, and Segmentation workflows can be found in <code class="file docutils literal"><span class="pre">../scan/anat/</span></code> directory for each subject. The following diagram shows processing steps and standard output files for these workflows.</p>
<div class="figure">
<img alt="_images/anat_prepro_schematic.png" src="_images/anat_prepro_schematic.png" />
</div>
<p>Preprocessed functional data from the Functional Preprocessing workflow can be found in the <code class="file docutils literal"><span class="pre">../scan_&lt;name&gt;/func</span></code> directory for each subject. The following diagram shows processing steps and standard output files for this workflow.</p>
<div class="figure">
<img alt="_images/functional_preprocessing.png" src="_images/functional_preprocessing.png" />
</div>
</div>
<div class="section" id="derivative-outputs">
<h3>Derivative Outputs<a class="headerlink" href="#derivative-outputs" title="Permalink to this headline">¶</a></h3>
<p>Derivatives for each subject can be found in the <code class="file docutils literal"><span class="pre">../scan_&lt;name&gt;</span></code> directory of each subject. This folder also contains the outputs of the registration and segmentation workflows.</p>
<div class="figure">
<img alt="_images/derivs_outputs.png" src="_images/derivs_outputs.png" />
</div>
<p>Within each derivative folder will be sub-folders for each set of frequency filters set in <code class="file docutils literal"><span class="pre">config.yml</span></code>, as well as a folder containing smoothed outputs.</p>
<p>Derivatives are output in both native space (<code class="file docutils literal"><span class="pre">*_img.nii.gz</span></code> and <code class="file docutils literal"><span class="pre">*_map.nii.gz</span></code> files), with values transformed to z-scores (<code class="file docutils literal"><span class="pre">*_Z_*.nii.gz</span></code>) and in standard space (<code class="file docutils literal"><span class="pre">*_to_standard.nii.gz</span></code>).</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cpac_logo.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="subject_list_config.html">Setting Up A Subject List</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline_config.html">Setting Up A Pipeline Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="derivatives.html">Computable Derivatives</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_analysis.html">Setting Up Group Analysis</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Running C-PAC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-command-line-interface">Using the Command Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-gui">Using the GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="#output-structure">Output Structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Running C-PAC as a Docker App</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">Using C-PAC in the AWS Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="openneuro.html">Using C-PAC in OpenNeuro</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Preconfigured Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">C-PAC Benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Troubleshooting and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnotes.html">Release Notes</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="docker.html" title="Running C-PAC as a Docker App"
             >next</a> |</li>
        <li class="right" >
          <a href="group_analysis.html" title="Setting Up Group Analysis"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">C-PAC 1.0.2 Beta documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, C-PAC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>